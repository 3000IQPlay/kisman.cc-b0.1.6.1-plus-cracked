//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "C:\Users\User\Desktop\1.12 stable mappings"!

//Decompiled by Procyon!

package com.kisman.cc.module.exploit;

import com.kisman.cc.settings.*;
import com.kisman.cc.event.events.*;
import me.zero.alpine.listener.*;
import com.kisman.cc.module.*;
import java.util.function.*;
import com.kisman.cc.*;

public class Timer extends Module
{
    private Setting speed;
    public float ovverideSpeed;
    @EventHandler
    private final Listener<EventPlayerUpdate> listener;
    
    public Timer() {
        super("Timer", "", Category.EXPLOIT);
        this.speed = new Setting("Ticks", this, 4.0, 0.1, 10.0, false);
        this.ovverideSpeed = 1.0f;
        this.listener = (Listener<EventPlayerUpdate>)new Listener(event -> {
            if (this.ovverideSpeed != 1.0f && this.ovverideSpeed > 1.0f) {
                Timer.mc.timer.tickLength = 50.0f / this.ovverideSpeed;
                return;
            }
            Timer.mc.timer.tickLength = 50.0f / this.getSpeed();
        }, new Predicate[0]);
        Timer.setmgr.rSetting(this.speed);
    }
    
    @Override
    public void onEnable() {
        Kisman.EVENT_BUS.subscribe((Listener)this.listener);
    }
    
    @Override
    public void onDisable() {
        Kisman.EVENT_BUS.unsubscribe((Listener)this.listener);
        Timer.mc.timer.tickLength = 50.0f;
    }
    
    private float getSpeed() {
        return Math.max((float)this.speed.getValDouble(), 0.1f);
    }
}
